---
layout: default
title: Ceph perf 16.2.7 -znver2o2minconf
---
<h1>Ceph bench 16.2.7 -znver2o2minconf</h1>
<p>
    Backend info: 3 backend hosts, 40gbps NIC, 24 NVME, ceph 16.2.7 -znver2o2minconf custom build (-march=znver2 -O2), minimal config
</p>
<p>
    Client info: 4 client hosts, 40gbps NIC, ceph 16.2.7 from eucephcom
</p>
<p>
    Config info: noscrub, nodeep-scrub, 1024PG, balancer off, pg autoscaler off
</p>
<p>
Test info: 128 RBD images each 128GB, each client runs fio tests against 32 RBD images.
Images are fully pre-written.
Each fio test is executed for 15 mins. Each suite conist 25 fio runs.
Each suite is repeated 3 times, thus 3 results.
<pre>
- {blocksize: 4k, iodepth: 4, rw: randrw, rwmixread: 0}
- {blocksize: 4k, iodepth: 4, rw: randrw, rwmixread: 10}
- {blocksize: 4k, iodepth: 4, rw: randrw, rwmixread: 50}
- {blocksize: 4k, iodepth: 4, rw: randrw, rwmixread: 90}
- {blocksize: 4k, iodepth: 4, rw: randrw, rwmixread: 100}
- {blocksize: 4k, iodepth: 32, rw: randrw, rwmixread: 0}
- {blocksize: 4k, iodepth: 32, rw: randrw, rwmixread: 10}
- {blocksize: 4k, iodepth: 32, rw: randrw, rwmixread: 50}
- {blocksize: 4k, iodepth: 32, rw: randrw, rwmixread: 90}
- {blocksize: 4k, iodepth: 32, rw: randrw, rwmixread: 100}
- {blocksize: 4k, iodepth: 64, rw: randrw, rwmixread: 0}
- {blocksize: 4k, iodepth: 64, rw: randrw, rwmixread: 10}
- {blocksize: 4k, iodepth: 64, rw: randrw, rwmixread: 50}
- {blocksize: 4k, iodepth: 64, rw: randrw, rwmixread: 90}
- {blocksize: 4k, iodepth: 64, rw: randrw, rwmixread: 100}
- {blocksize: 64k, iodepth: 4, rw: rw, rwmixread: 0}
- {blocksize: 64k, iodepth: 4, rw: rw, rwmixread: 10}
- {blocksize: 64k, iodepth: 4, rw: rw, rwmixread: 50}
- {blocksize: 64k, iodepth: 4, rw: rw, rwmixread: 90}
- {blocksize: 64k, iodepth: 4, rw: rw, rwmixread: 100}
- {blocksize: 64k, iodepth: 64, rw: rw, rwmixread: 0}
- {blocksize: 64k, iodepth: 64, rw: rw, rwmixread: 10}
- {blocksize: 64k, iodepth: 64, rw: rw, rwmixread: 50}
- {blocksize: 64k, iodepth: 64, rw: rw, rwmixread: 90}
- {blocksize: 64k, iodepth: 64, rw: rw, rwmixread: 100}
</pre>
</p>

<style>
    .ops-reads {
        color: rgb(63, 146, 214);
    }

    .ops-writes {
        color: rgb(216, 140, 0)
    }

    .perf-lower {
        background-color: rgb(255, 128, 128)
    }

    .perf-higher {
        background-color: rgb(137, 211, 122)
    }
</style>

<div>
    <h3>1649868770-16.2.7-znver2o2minconf</h3>
    <table class="table table-bordered" style="text-align: right;">
        <tr>
            <th></th>

            <th>0%R</th>

            <th>10%R</th>

            <th>50%R</th>

            <th>90%R</th>

            <th>100%R</th>

        </tr>

        <tr class="ops-reads">
            <td>4k 4 randrw R</td>

            <td>0</td>

            <td>9 465</td>

            <td>73 445</td>

            <td>314 778</td>

            <td>595 120</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 4 randrw W</td>

            <td>88 628</td>

            <td>85 708</td>

            <td>73 446</td>

            <td>34 916</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 32 randrw R</td>

            <td>0</td>

            <td>13 475</td>

            <td>101 529</td>

            <td>342 259</td>

            <td>610 912</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 32 randrw W</td>

            <td>125 386</td>

            <td>121 759</td>

            <td>101 534</td>

            <td>37 974</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 64 randrw R</td>

            <td>0</td>

            <td>14 990</td>

            <td>106 577</td>

            <td>354 317</td>

            <td>621 741</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 64 randrw W</td>

            <td>139 726</td>

            <td>135 393</td>

            <td>106 562</td>

            <td>39 308</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 4 rw R</td>

            <td>0</td>

            <td>7 093</td>

            <td>61 107</td>

            <td>165 460</td>

            <td>198 970</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 4 rw W</td>

            <td>64 462</td>

            <td>64 366</td>

            <td>61 098</td>

            <td>18 333</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 64 rw R</td>

            <td>0</td>

            <td>7 525</td>

            <td>65 977</td>

            <td>162 981</td>

            <td>198 387</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 64 rw W</td>

            <td>68 019</td>

            <td>68 211</td>

            <td>65 986</td>

            <td>18 052</td>

            <td>0</td>

        </tr>


    </table>

</div>


<div>
    <h3>1649891632-16.2.7-znver2o2minconf</h3>
    <table class="table table-bordered" style="text-align: right;">
        <tr>
            <th></th>

            <th>0%R</th>

            <th>10%R</th>

            <th>50%R</th>

            <th>90%R</th>

            <th>100%R</th>

        </tr>

        <tr class="ops-reads">
            <td>4k 4 randrw R</td>

            <td>0</td>

            <td>9 243</td>

            <td>72 186</td>

            <td>309 617</td>

            <td>591 026</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 4 randrw W</td>

            <td>85 786</td>

            <td>83 740</td>

            <td>72 189</td>

            <td>34 348</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 32 randrw R</td>

            <td>0</td>

            <td>12 952</td>

            <td>65 522</td>

            <td>10 281</td>

            <td>600 354</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 32 randrw W</td>

            <td>120 481</td>

            <td>117 096</td>

            <td>65 772</td>

            <td>1 116</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 64 randrw R</td>

            <td>0</td>

            <td>1 422</td>

            <td>9 337</td>

            <td>43 570</td>

            <td>617 065</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 64 randrw W</td>

            <td>10 582</td>

            <td>12 903</td>

            <td>9 399</td>

            <td>4 962</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 4 rw R</td>

            <td>0</td>

            <td>3 596</td>

            <td>33 934</td>

            <td>155 527</td>

            <td>198 983</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 4 rw W</td>

            <td>37 416</td>

            <td>32 830</td>

            <td>33 955</td>

            <td>17 222</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 64 rw R</td>

            <td>0</td>

            <td>7 416</td>

            <td>64 748</td>

            <td>163 002</td>

            <td>197 841</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 64 rw W</td>

            <td>67 172</td>

            <td>67 149</td>

            <td>64 760</td>

            <td>18 057</td>

            <td>0</td>

        </tr>


    </table>

    <h4>Relative performance (compared to 1st result)</h4>
    <table class="table table-bordered" style="text-align: right;">
        <tr>
            <th></th>

            <th>0%R</th>

            <th>10%R</th>

            <th>50%R</th>

            <th>90%R</th>

            <th>100%R</th>

        </tr>

        <tr style=''>
            <td>4k 4qd randrw R</td>



            <td>

                0.00</td>



            <td>

                -2.34</td>



            <td>

                -1.71</td>



            <td>

                -1.64</td>



            <td>

                -0.69</td>

        </tr>
        <tr style=''>
            <td>4k 4qd randrw W</td>



            <td>

                -3.21</td>



            <td>

                -2.30</td>



            <td>

                -1.71</td>



            <td>

                -1.63</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>4k 32qd randrw R</td>



            <td>

                0.00</td>



            <td>

                -3.88</td>



            <td class="perf-lower">

                -35.47</td>



            <td class="perf-lower">

                -97.00</td>



            <td>

                -1.73</td>

        </tr>
        <tr style=''>
            <td>4k 32qd randrw W</td>



            <td>

                -3.91</td>



            <td>

                -3.83</td>



            <td class="perf-lower">

                -35.22</td>



            <td class="perf-lower">

                -97.06</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>4k 64qd randrw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -90.51</td>



            <td class="perf-lower">

                -91.24</td>



            <td class="perf-lower">

                -87.70</td>



            <td>

                -0.75</td>

        </tr>
        <tr style=''>
            <td>4k 64qd randrw W</td>



            <td class="perf-lower">

                -92.43</td>



            <td class="perf-lower">

                -90.47</td>



            <td class="perf-lower">

                -91.18</td>



            <td class="perf-lower">

                -87.38</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>64k 4qd rw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -49.31</td>



            <td class="perf-lower">

                -44.47</td>



            <td class="perf-lower">

                -6.00</td>



            <td>

                0.01</td>

        </tr>
        <tr style=''>
            <td>64k 4qd rw W</td>



            <td class="perf-lower">

                -41.96</td>



            <td class="perf-lower">

                -48.99</td>



            <td class="perf-lower">

                -44.43</td>



            <td class="perf-lower">

                -6.06</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>64k 64qd rw R</td>



            <td>

                0.00</td>



            <td>

                -1.45</td>



            <td>

                -1.86</td>



            <td>

                0.01</td>



            <td>

                -0.28</td>

        </tr>
        <tr style=''>
            <td>64k 64qd rw W</td>



            <td>

                -1.24</td>



            <td>

                -1.56</td>



            <td>

                -1.86</td>



            <td>

                0.03</td>



            <td>

                0.00</td>

        </tr>


    </table>

</div>


<div>
    <h3>1649915669-16.2.7-znver2o2minconf</h3>
    <table class="table table-bordered" style="text-align: right;">
        <tr>
            <th></th>

            <th>0%R</th>

            <th>10%R</th>

            <th>50%R</th>

            <th>90%R</th>

            <th>100%R</th>

        </tr>

        <tr class="ops-reads">
            <td>4k 4 randrw R</td>

            <td>0</td>

            <td>1 852</td>

            <td>16 290</td>

            <td>117 103</td>

            <td>597 800</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 4 randrw W</td>

            <td>18 358</td>

            <td>17 178</td>

            <td>16 283</td>

            <td>12 959</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 32 randrw R</td>

            <td>0</td>

            <td>2 580</td>

            <td>20 756</td>

            <td>163 578</td>

            <td>609 234</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 32 randrw W</td>

            <td>23 904</td>

            <td>23 700</td>

            <td>20 757</td>

            <td>18 134</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>4k 64 randrw R</td>

            <td>0</td>

            <td>2 274</td>

            <td>21 789</td>

            <td>109 776</td>

            <td>613 903</td>

        </tr>
        <tr class="ops-writes">
            <td>4k 64 randrw W</td>

            <td>24 261</td>

            <td>20 973</td>

            <td>21 788</td>

            <td>12 190</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 4 rw R</td>

            <td>0</td>

            <td>3 168</td>

            <td>27 957</td>

            <td>141 195</td>

            <td>198 997</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 4 rw W</td>

            <td>29 154</td>

            <td>29 020</td>

            <td>27 956</td>

            <td>15 629</td>

            <td>0</td>

        </tr>

        <tr class="ops-reads">
            <td>64k 64 rw R</td>

            <td>0</td>

            <td>7 474</td>

            <td>64 969</td>

            <td>162 978</td>

            <td>197 709</td>

        </tr>
        <tr class="ops-writes">
            <td>64k 64 rw W</td>

            <td>65 720</td>

            <td>67 786</td>

            <td>64 988</td>

            <td>18 052</td>

            <td>0</td>

        </tr>


    </table>

    <h4>Relative performance (compared to 1st result)</h4>
    <table class="table table-bordered" style="text-align: right;">
        <tr>
            <th></th>

            <th>0%R</th>

            <th>10%R</th>

            <th>50%R</th>

            <th>90%R</th>

            <th>100%R</th>

        </tr>

        <tr style=''>
            <td>4k 4qd randrw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -80.43</td>



            <td class="perf-lower">

                -77.82</td>



            <td class="perf-lower">

                -62.80</td>



            <td>

                0.45</td>

        </tr>
        <tr style=''>
            <td>4k 4qd randrw W</td>



            <td class="perf-lower">

                -79.29</td>



            <td class="perf-lower">

                -79.96</td>



            <td class="perf-lower">

                -77.83</td>



            <td class="perf-lower">

                -62.88</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>4k 32qd randrw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -80.85</td>



            <td class="perf-lower">

                -79.56</td>



            <td class="perf-lower">

                -52.21</td>



            <td>

                -0.27</td>

        </tr>
        <tr style=''>
            <td>4k 32qd randrw W</td>



            <td class="perf-lower">

                -80.94</td>



            <td class="perf-lower">

                -80.54</td>



            <td class="perf-lower">

                -79.56</td>



            <td class="perf-lower">

                -52.24</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>4k 64qd randrw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -84.83</td>



            <td class="perf-lower">

                -79.56</td>



            <td class="perf-lower">

                -69.02</td>



            <td>

                -1.26</td>

        </tr>
        <tr style=''>
            <td>4k 64qd randrw W</td>



            <td class="perf-lower">

                -82.64</td>



            <td class="perf-lower">

                -84.51</td>



            <td class="perf-lower">

                -79.55</td>



            <td class="perf-lower">

                -68.99</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>64k 4qd rw R</td>



            <td>

                0.00</td>



            <td class="perf-lower">

                -55.33</td>



            <td class="perf-lower">

                -54.25</td>



            <td class="perf-lower">

                -14.67</td>



            <td>

                0.01</td>

        </tr>
        <tr style=''>
            <td>64k 4qd rw W</td>



            <td class="perf-lower">

                -54.77</td>



            <td class="perf-lower">

                -54.91</td>



            <td class="perf-lower">

                -54.24</td>



            <td class="perf-lower">

                -14.75</td>



            <td>

                0.00</td>

        </tr>

        <tr style=''>
            <td>64k 64qd rw R</td>



            <td>

                0.00</td>



            <td>

                -0.68</td>



            <td>

                -1.53</td>



            <td>

                -0.00</td>



            <td>

                -0.34</td>

        </tr>
        <tr style=''>
            <td>64k 64qd rw W</td>



            <td>

                -3.38</td>



            <td>

                -0.62</td>



            <td>

                -1.51</td>



            <td>

                0.00</td>



            <td>

                0.00</td>

        </tr>


    </table>

</div>